<div class = "app-mapaeventos-container">
    <body>
        <div class="fondooscuro">
                <header>
                    <nav>
                    <!-- Logotipo y nombre -->
                    <div class="halloween"></div>
                    <ul class="logo-nombre">
                        <span>ESPACIOS</span>
                        <span>BOLIVIA</span>
                    </ul>
                        <!-- Menú principal centrado -->
                    <ul class="menu">
                         <li><a href="/iniciopagina">INICIO</a></li>
                        <li><a href="/calendario">CALENDARIO</a></li>
                    </ul>
                    <!-- Inicio de sesión y botón a la derecha -->
                    <div class="right-section">
                        <ul class="extra-menu">
                            <li><a href="demostrations.html">NOMBRE DE USUARIO</a></li>
                        </ul>
                        <div class="halloween"></div>
                    </div>
                </nav>
            </header>
        </div>
            <div class="l2">
                <h1><p>MAPA CERCADO, COCHABAMBA</p></h1>
                <div class="date-container">
                    <span id="current-date"></span>
                    <button id="calendar-button"><img src="/assets/calendarioicono.jpg" alt="Calendario"></button>
                    <input type="date" id="calendar-input" class="hidden">
                </div>
            </div>  
        <div id="map" style="width: 55%; height: 400px;"></div> <!-- Ajustamos el mapa aquí --> 
        <!-- Botón centrado debajo del mapa -->
        <div class="center-button">
            <button id="register-event-button">Registrar Evento</button>
        </div>       
        <div class="back-button">
             <a href="pagina-anterior.html"><img src="/assets/flechavolver.jpg" alt="Volver" title="Volver"></a>
         </div>
        <!-- Leaflet CSS -->
        <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
        <!-- Leaflet JavaScript -->
        <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
        <!-- Inicializar el mapa -->
        <script>
        // Crear el mapa
        var map = L.map('map').setView([-17.393, -66.165], 13); // Coordenadas para Cochabamba
    
        // Añadir el mapa de OpenStreetMap
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);
    
        // Añadir un marcador
        L.marker([-17.393, -66.165]).addTo(map)
            .bindPopup('Cochabamba, Bolivia.')
            .openPopup();
        </script>
        <script>
            // Función para actualizar la fecha en tiempo real
            function updateDate() 
            {
                const currentDateElement = document.getElementById('current-date');
                const now = new Date();
                const options = { year: 'numeric', month: 'long', day: 'numeric' };
                currentDateElement.textContent = now.toLocaleDateString(undefined, options);
            }
    
            // Ejecutar la función para actualizar la fecha al cargar la página
            updateDate();
        
            // Manejar el clic en el botón del calendario
            const calendarButton = document.getElementById('calendar-button');
            const calendarInput = document.getElementById('calendar-input');
        
            calendarButton.addEventListener('click', () => {
                if (calendarInput.classList.contains('hidden')) 
                {
                    calendarInput.classList.remove('hidden');
                    calendarInput.focus();
                } 
                else 
                {
                    calendarInput.classList.add('hidden');
                }
            });
            calendarInput.addEventListener('change', () => {
                calendarInput.classList.add('hidden');
            });
        </script>
    </body>
</div>
